<style>
.tile-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.subtile {
    flex: 1 1 30%;
    min-width: 250px;
    background: <!--COLOR_MAIN_TILES-->;
    border-radius: 8px;
    padding: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.subtile label {
    display: block;
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 5px;
}

.subtile input,
.subtile select {
    width: 100%;
    margin-bottom: 10px;
    padding: 5px;
    font-size: 1em;
    box-sizing: border-box;
}

.floor-tile {
    flex: 1 1 100%;
    background: <!--COLOR_FLOOR_TILES-->;
    border-radius: 10px;
    padding: 10px;
    margin-bottom: 15px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
}

.floor-tile label {
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 8px;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    padding-bottom: 4px;
}

.rooms-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.room-tile {
    flex: 1 1 150px;
    min-width: 150px;
    background: <!--COLOR_ROOM_TILES-->;
    border-radius: 6px;
    padding: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.room-header {
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 5px;
}

.room-values, .room-temp-schedule {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.room-values div, .room-temp-schedule div {
    display: flex;
    justify-content: space-between;
}

.room-values div strong, .room-temp-schedule div strong {
    flex: 1; /* linke Spalte */
}

.room-values div span, .room-temp-schedule div span {
    flex: 1; /* rechte Spalte, linksb체ndig */
}

.room-separator {
    border: none;
    border-top: 1px solid #ccc;
    margin: 8px 0;
}

.room-section-title {
    font-weight: bold;
    margin: 4px 0;
    font-size: 0.9rem;
}

.room-offsets-table, .room-sensors-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.room-offsets-table td,
.room-sensors-table td {
    padding: 2px 4px;
    vertical-align: top;
}

.offset-sum-separator {
    border: none;
    border-top: 2px double #aaa;
    margin: 2px 0;
}

/* Systeminfo */
.system-info {
    margin-top: 10px;
    background: <!--COLOR_SYSTEM_INFO-->;
    border-radius: 6px;
    padding: 8px;
}

.system-info label {
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 5px;
}

.system-info-values {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.system-info-values div {
    display: flex;
    justify-content: space-between;
}

.system-info-values div strong {
    flex: 1;
}

.system-info-values div span {
    flex: 1;
}
</style>

<!-- Oberste Tiles -->
<div class="tile-container">
    <!-- Tile 1: Betriebsart -->
    <div class="subtile" id="tile_mode">
        <label>Betriebsart</label>
        <select id="mode_select">
            <!--MODE_OPTIONS-->
        </select>
        <select id="mode_room_select">
            <!--FLOOR_ROOM_OPTIONS-->
        </select>
        <button id="btn_set_mode">Setzen</button>
    </div>

    <!-- Tile 2: Permanente Soll-Temperatur -->
    <div class="subtile" id="tile_temperature">
        <label>Permanente Soll-Temperatur</label>
        <input type="number" id="input_temp" value="<!--MAX_TEMP-->" />
        <select id="temp_room_select">
            <!--FLOOR_ROOM_OPTIONS-->
        </select>
        <button id="btn_set_temp">Setzen</button>
    </div>

    <!-- Tile 3: Tempor채re Soll-Temperatur -->
    <div class="subtile" id="tile_target">
        <label>Tempor채re Soll-Temperatur</label>
        <input type="number" id="input_target_temp" value="<!--MAX_TEMP-->" />
        <label for="duration_select">Dauer</label>
        <select id="duration_select">
            <!--DURATION_OPTIONS-->
        </select>
        <select id="target_room_select">
            <!--FLOOR_ROOM_OPTIONS-->
        </select>
        <button id="btn_set_target">Setzen</button>
    </div>
</div>

<!-- R채ume-Tiles anzeigen je Etage -->
<!--ROOM_TILES-->

<!-- Systeminformationen-Tile -->
<!--SYSTEM_INFO-->


<script>
// EventListener zentralisiert
document.getElementById('btn_set_mode').addEventListener('click', function() {
    const mode = parseInt(document.getElementById('mode_select').value);
    const roomId = parseInt(document.getElementById('mode_room_select').value);
    RequestAction('Mode', { roomId: roomId, mode: mode });
});

document.getElementById('btn_set_temp').addEventListener('click', function() {
    const temp = parseFloat(document.getElementById('input_temp').value);
    const roomId = parseInt(document.getElementById('temp_room_select').value);
    RequestAction('Temp', { roomId: roomId, temp: temp });
});

document.getElementById('btn_set_target').addEventListener('click', function() {
    const temp = parseFloat(document.getElementById('input_target_temp').value);
    const roomId = parseInt(document.getElementById('target_room_select').value);
    const duration = parseInt(document.getElementById('duration_select').value);
    RequestAction('TargetTemp', { roomId: roomId, temp: temp, duration: duration });
});
</script>
